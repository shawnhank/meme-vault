<%- include('../partials/header') %>  <!-- Include site-wide header (nav, title, etc) -->
<%- include('../partials/flash') %>   <!-- flash messages -->

<!-- Show the user name profile -->
<h1><%= user.name %>'s Profile</h1>

<!-- Show "Edit Profile" button only if the signed-in visitor is
 viewing their own profile (ownership check) -->

<% if (user && currentUser && user._id.toString() === currentUser._id.toString()) { %>
  <a href="/users/<%= user._id %>/edit" class="btn">Edit Profile</a>
<% } %>

<!-- Heading for the selected user profile -->
<h2>Memes by <%= user.name %></h2>

<ul>
  <% memes.forEach(function(meme) { %>  <!-- Loop through all memes created by this user -->
    <li>
      <!-- Link to the individual meme's show page -->
      <a href="/memes/<%= meme._id %>"><%= meme.name %></a>
    </li>
  <% }) %>
</ul>

<%- include('../partials/footer') %>  <!-- site-wide footer (scripts, links, etc) -->