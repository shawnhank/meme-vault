<%- include('../partials/header') %>

<div class="container-fluid px-3 px-sm-4 px-md-5">
  <%- include('../partials/flash') %>

  <div
    class="d-flex flex-column flex-sm-row justify-content-between align-items-sm-center mb-4 gap-3"
    style="max-width: 1400px; margin: 0 auto"
  >
    <h1 class="mb-0">
      <% if (mine) { %> <%= currentUser.name %>'s Memes <% } else { %> All Memes
      <% } %>
    </h1>

    <form
      class="d-flex"
      role="search"
      action="/search"
      method="GET"
      style="min-width: 280px; max-width: 340px"
    >
      <input
        class="form-control form-control-sm"
        type="search"
        name="q"
        placeholder="Search memes, tags, users"
        aria-label="Search"
      />
      <button class="btn btn-primary btn-sm ms-2" type="submit">Search</button>
    </form>
  </div>

  <div
    class="row row-cols-2 row-cols-sm-3 row-cols-md-4 row-cols-lg-6 g-3 mb-5 justify-content-center"
  >
    <% memes.forEach(function(meme) { %>
    <div class="col">
      <%- include('../partials/meme-thumbnails', { meme, size: 'large' }) %>
    </div>
    <% }) %>
  </div>
</div>

<%- include('../partials/test-footer') %>
