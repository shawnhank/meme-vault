<%- include('../partials/header') %>  <!-- Include site-wide header (nav, title, etc) -->
<%- include('../partials/flash') %>   <!-- Show flash success/error messages -->

<h1><%= meme.name %></h1>

<p style="white-space: pre-line;"><%= meme.description %></p>

<% if (meme.image) { %>
  <img src="<%= meme.image %>" alt="<%= meme.name %>" style="max-height: 300px;">
<% } %>

<div class="d-flex gap-2">
  <% if (currentUser && meme.createdBy.equals(currentUser._id)) { %>  <!-- show edit button for logged in user only -->
    <a href="/memes/<%= meme._id %>/edit" class="btn btn-secondary">Edit Meme</a>
  <% } %>

  <a href="/memes" class="btn btn-outline-secondary">Back to All Memes</a>

  <% if (currentUser && meme.createdBy.equals(currentUser._id)) { %>  <!-- show delete button for logged in user only -->
    <form action="/memes/<%= meme._id %>?_method=DELETE" method="POST" style="display: inline;">
      <button type="submit" class="btn btn-danger">Delete</button>
    </form>
  <% } %>
</div>

<%- include('../partials/footer') %>  <!-- site-wide footer (scripts, links, etc) -->